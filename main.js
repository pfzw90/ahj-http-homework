!function(e){var t={};function n(c){if(t[c])return t[c].exports;var o=t[c]={i:c,l:!1,exports:{}};return e[c].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,c){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(n.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(c,o,function(t){return e[t]}.bind(null,o));return c},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){const c=n(1);e.exports=class{constructor(){const e=new CustomEvent("datarefresh");this.container=document.createElement("div"),this.container.id="container",document.body.appendChild(this.container),this.addButtn=document.createElement("button"),this.addButtn.className="add-ticket",this.addButtn.innerText="–î–æ–±–∞–≤–∏—Ç—å —Ç–∏–∫–µ—Ç ‚ûï",this.container.insertAdjacentElement("afterbegin",this.addButtn),this.addButtn.addEventListener("click",(t=>{t.preventDefault();const n=document.createElement("div");n.className="modal",n.innerHTML='<div class="modal-content">\n          <form class="edit-form">\n          <label for = "name">–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</label>\n          <input name ="name" value = "" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" required>\n          <label for = "description">–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</label>\n          <input name ="description" value = "" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ" required>\n          <button class = "close-modal">–û—Ç–º–µ–Ω–∞</button>\n          <button class = "save">–î–æ–±–∞–≤–∏—Ç—å —Ç–∏–∫–µ—Ç</button>\n          <form>\n          </div>',document.body.insertAdjacentElement("beforeend",n);const o=document.querySelector(".edit-form");o.addEventListener("submit",(t=>{t.preventDefault();const o=new FormData(t.target);c(document.body,"POST",{method:"createTicket"},(()=>{n.remove(),document.body.dispatchEvent(e)}),o)})),o.querySelector(".close-modal").addEventListener("click",(e=>{e.preventDefault(),n.remove()}))})),document.body.addEventListener("datarefresh",(()=>{document.querySelectorAll(".ticket").forEach((e=>e.remove())),c(document.body,"GET",{method:"allTickets"},(t=>{t.forEach((t=>{const n=document.createElement("div");n.className="ticket",n.id=t.id,n.innerHTML=`<span class = "ticket-name">${t.name}</span>`,this.container.insertAdjacentElement("beforeend",n),n.querySelector(".ticket-name").addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(".ticket-description");t&&t.closest(".ticket")===n?t.remove():(t&&t.closest(".ticket")!==n||!t)&&(t&&t.closest(".ticket")!==n&&t.remove(),c(n,"GET",{method:"ticketById"},(e=>{const t=document.createElement("span");t.className="ticket-description",t.innerText=e.description,n.insertAdjacentElement("beforeend",t),t.addEventListener("click",(e=>{e.preventDefault(),t.remove()}))})))}));const o=document.createElement("form");o.className="ticket-finished-form";const a=document.createElement("input");a.type="checkbox",a.className="is-finished",a.name="status",a.checked=t.status?"checked":"",o.appendChild(a),n.insertAdjacentElement("afterbegin",o),a.addEventListener("change",(t=>{t.preventDefault();const o=new FormData;t.target.checked?o.append("status",!0):o.append("status",!1),c(n,"POST",{method:"changeStatus"},(()=>{document.body.dispatchEvent(e)}),o)}));const r=document.createElement("div");r.className="ticket-info",n.insertAdjacentElement("beforeend",r);const d=document.createElement("span");d.className="ticket-created",d.innerText=`${t.created}`,r.insertAdjacentElement("beforeend",d);const s=document.createElement("span");s.innerText="üóë",s.className="ticket-delete",r.insertAdjacentElement("beforeend",s),s.addEventListener("click",(t=>{t.preventDefault();const o=document.createElement("div");o.className="modal",o.innerHTML='<div class="modal-content">\n              <span class = "warning"> –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ. –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Ç–∏–∫–µ—Ç? </span>\n              <button class = "close-modal">–û—Ç–º–µ–Ω–∞</button>\n              <button id="delete-ticket">–£–¥–∞–ª–∏—Ç—å</button>\n              </div>',document.body.appendChild(o),document.querySelector("#delete-ticket").addEventListener("click",(t=>{t.preventDefault(),c(n,"POST",{method:"deleteTicket"},(()=>{o.remove(),document.body.dispatchEvent(e)}))})),document.querySelector(".close-modal").addEventListener("click",(e=>{e.preventDefault(),o.remove()}))}));const i=document.createElement("span");i.className="ticket-edit",i.innerText="‚úé",r.insertAdjacentElement("beforeend",i),i.addEventListener("click",(t=>{t.preventDefault(),c(n,"GET",{method:"ticketById"},(t=>{const o=document.createElement("div");o.className="modal",o.innerHTML=`<div class="modal-content">\n              <form class="edit-form">\n              <label for = "name">–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</label>\n              <input name ="name" value = "${t.name}" required>\n              <label for = "description">–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ</label>\n              <input name ="description" value = "${t.description}" required>\n              <button class = "close-modal">–û—Ç–º–µ–Ω–∞</button>\n              <button class = "save">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>\n              <form>\n              </div>`,document.body.appendChild(o);document.querySelector(".edit-form").addEventListener("submit",(t=>{t.preventDefault();const a=new FormData(t.target);c(n,"POST",{method:"updateTicket"},(()=>{o.remove(),document.body.dispatchEvent(e)}),a)}))}))}))}))}))})),document.body.dispatchEvent(e)}}},function(e,t){e.exports=function(e,t,n,c,o=new FormData){const a=new URLSearchParams;a.set("method",n.method),"ticket"===e.className&&a.set("id",e.id),o.set("id",e.id),o.set("method",n.method);const r=new XMLHttpRequest;r.addEventListener("load",(()=>{if(r.status>=200&&r.status<300)try{const e=JSON.parse(r.responseText);c&&c.call(this,e.data)}catch(e){throw new Error(e)}})),r.open(t,`http://localhost:7070/?${a}`,!0),r.send(o)}},function(e,t,n){"use strict";n.r(t);new(n(0))}]);